/*! fast-json-patch, version: 2.1.0 */
var jsonpatch=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a,b){function c(a,b){return j.call(a,b)}function d(a){if(Array.isArray(a)){for(var b=Array(a.length),d=0;d<b.length;d++)b[d]=''+d;return b}if(Object.keys)return Object.keys(a);var b=[];for(var e in a)c(a,e)&&b.push(e);return b}function e(a){return-1===a.indexOf('/')&&-1===a.indexOf('~')?a:a.replace(/~/g,'~0').replace(/\//g,'~1')}function f(a,b){var d;for(var g in a)if(c(a,g)){if(a[g]===b)return e(g)+'/';if('object'==typeof a[g]&&(d=f(a[g],b),''!=d))return e(g)+'/'+d}return''}function g(a){if(a===void 0)return!0;if(a)if(Array.isArray(a)){for(var b=0,c=a.length;b<c;b++)if(g(a[b]))return!0;}else if('object'==typeof a)for(var e=d(a),f=e.length,b=0;b<f;b++)if(g(a[e[b]]))return!0;return!1}function h(a,b){var c=[a];for(var d in b){var e='object'==typeof b[d]?JSON.stringify(b[d],null,2):b[d];'undefined'!=typeof e&&c.push(d+': '+e)}return c.join('\n')}var i=this&&this.__extends||function(a,c){function b(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},j=Object.prototype.hasOwnProperty;b.hasOwnProperty=c,b._objectKeys=d;b._deepClone=function(a){switch(typeof a){case'object':return JSON.parse(JSON.stringify(a));case'undefined':return null;default:return a;}},b.isInteger=function(a){for(var b,c=0,d=a.length;c<d;){if(b=a.charCodeAt(c),48<=b&&57>=b){c++;continue}return!1}return!0},b.escapePathComponent=e,b.unescapePathComponent=function(a){return a.replace(/~1/g,'/').replace(/~0/g,'~')},b._getPathRecursive=f,b.getPath=function(a,b){if(a===b)return'/';var c=f(a,b);if(''===c)throw new Error('Object not found in root');return'/'+c},b.hasUndefined=g;var k=function(a){function b(b,c,d,e,f){a.call(this,h(b,{name:c,index:d,operation:e,tree:f})),this.name=c,this.index=d,this.operation=e,this.tree=f,this.message=h(b,{name:c,index:d,operation:e,tree:f})}return i(b,a),b}(Error);b.PatchError=k},function(a,b,c){function d(a,b){if(''==b)return a;var c={op:'_get',path:b};return e(a,c),c.value}function e(a,c,e,f,h,i){if(void 0===e&&(e=!1),void 0===f&&(f=!0),void 0===h&&(h=!0),void 0===i&&(i=0),e&&('function'==typeof e?e(c,0,a,c.path):g(c,0)),''===c.path){var j={newDocument:a};if('add'===c.op)return j.newDocument=c.value,j;if('replace'===c.op)return j.newDocument=c.value,j.removed=a,j;if('move'===c.op||'copy'===c.op)return j.newDocument=d(a,c.from),'move'===c.op&&(j.removed=a),j;if('test'===c.op){if(j.test=k(a,c.value),!1===j.test)throw new b.JsonPatchError('Test operation failed','TEST_OPERATION_FAILED',i,c,a);return j.newDocument=a,j}if('remove'===c.op)return j.removed=a,j.newDocument=null,j;if('_get'===c.op)return c.value=a,j;if(e)throw new b.JsonPatchError('Operation `op` property is not one of operations defined in RFC-6902','OPERATION_OP_INVALID',i,c,a);else return j}else{f||(a=l._deepClone(a));var o=c.path||'',p=o.split('/'),q=a,r=1,s=p.length,t=void 0,u=void 0,v=void 0;for(v='function'==typeof e?e:g;;){if(u=p[r],h&&'__proto__'==u)throw new TypeError('JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README');if(e&&void 0==t&&(void 0===q[u]?t=p.slice(0,r).join('/'):r==s-1&&(t=c.path),void 0!==t&&v(c,0,a,t)),r++,Array.isArray(q)){if('-'===u)u=q.length;else if(e&&!l.isInteger(u))throw new b.JsonPatchError('Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index','OPERATION_PATH_ILLEGAL_ARRAY_INDEX',i,c,a);else l.isInteger(u)&&(u=~~u);if(r>=s){if(e&&'add'===c.op&&u>q.length)throw new b.JsonPatchError('The specified index MUST NOT be greater than the number of elements in the array','OPERATION_VALUE_OUT_OF_BOUNDS',i,c,a);var j=n[c.op].call(c,q,u,a);if(!1===j.test)throw new b.JsonPatchError('Test operation failed','TEST_OPERATION_FAILED',i,c,a);return j}}else if(u&&-1!=u.indexOf('~')&&(u=l.unescapePathComponent(u)),r>=s){var j=m[c.op].call(c,q,u,a);if(!1===j.test)throw new b.JsonPatchError('Test operation failed','TEST_OPERATION_FAILED',i,c,a);return j}q=q[u]}}}function f(a,c,d,f,g){if(void 0===f&&(f=!0),void 0===g&&(g=!0),d&&!Array.isArray(c))throw new b.JsonPatchError('Patch sequence must be an array','SEQUENCE_NOT_AN_ARRAY');f||(a=l._deepClone(a));for(var h=Array(c.length),j=0,i=c.length;j<i;j++)h[j]=e(a,c[j],d,!0,g,j),a=h[j].newDocument;return h.newDocument=a,h}function g(a,c,d,e){if('object'!=typeof a||null===a||Array.isArray(a))throw new b.JsonPatchError('Operation is not an object','OPERATION_NOT_AN_OBJECT',c,a,d);else if(!m[a.op])throw new b.JsonPatchError('Operation `op` property is not one of operations defined in RFC-6902','OPERATION_OP_INVALID',c,a,d);else if('string'!=typeof a.path)throw new b.JsonPatchError('Operation `path` property is not a string','OPERATION_PATH_INVALID',c,a,d);else if(0!==a.path.indexOf('/')&&0<a.path.length)throw new b.JsonPatchError('Operation `path` property must start with "/"','OPERATION_PATH_INVALID',c,a,d);else if(('move'===a.op||'copy'===a.op)&&'string'!=typeof a.from)throw new b.JsonPatchError('Operation `from` property is not present (applicable in `move` and `copy` operations)','OPERATION_FROM_REQUIRED',c,a,d);else if(('add'===a.op||'replace'===a.op||'test'===a.op)&&a.value===void 0)throw new b.JsonPatchError('Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)','OPERATION_VALUE_REQUIRED',c,a,d);else if(('add'===a.op||'replace'===a.op||'test'===a.op)&&l.hasUndefined(a.value))throw new b.JsonPatchError('Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)','OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED',c,a,d);else if(d)if('add'==a.op){var f=a.path.split('/').length,g=e.split('/').length;if(f!==g+1&&f!==g)throw new b.JsonPatchError('Cannot perform an `add` operation at the desired path','OPERATION_PATH_CANNOT_ADD',c,a,d)}else if('replace'===a.op||'remove'===a.op||'_get'===a.op){if(a.path!==e)throw new b.JsonPatchError('Cannot perform the operation at a path that does not exist','OPERATION_PATH_UNRESOLVABLE',c,a,d);}else if('move'===a.op||'copy'===a.op){var i={op:'_get',path:a.from,value:void 0},j=h([i],d);if(j&&'OPERATION_PATH_UNRESOLVABLE'===j.name)throw new b.JsonPatchError('Cannot perform the operation from a path that does not exist','OPERATION_FROM_UNRESOLVABLE',c,a,d)}}function h(a,c,d){try{if(!Array.isArray(a))throw new b.JsonPatchError('Patch sequence must be an array','SEQUENCE_NOT_AN_ARRAY');if(c)f(l._deepClone(c),l._deepClone(a),d||!0);else{d=d||g;for(var e=0;e<a.length;e++)d(a[e],e,c,void 0)}}catch(a){if(a instanceof b.JsonPatchError)return a;throw a}}var i={strict:!0},j=c(3),k=function(c,a){return j(c,a,i)},l=c(0);b.JsonPatchError=l.PatchError,b.deepClone=l._deepClone;var m={add:function(a,b,c){return a[b]=this.value,{newDocument:c}},remove:function(a,b,c){var d=a[b];return delete a[b],{newDocument:c,removed:d}},replace:function(a,b,c){var d=a[b];return a[b]=this.value,{newDocument:c,removed:d}},move:function(a,b,c){var f=d(c,this.path);f&&(f=l._deepClone(f));var g=e(c,{op:'remove',path:this.from}).removed;return e(c,{op:'add',path:this.path,value:g}),{newDocument:c,removed:f}},copy:function(a,b,c){var f=d(c,this.from);return e(c,{op:'add',path:this.path,value:l._deepClone(f)}),{newDocument:c}},test:function(a,b,c){return{newDocument:c,test:k(a[b],this.value)}},_get:function(a,b,c){return this.value=a[b],{newDocument:c}}},n={add:function(a,b,c){return l.isInteger(b)?a.splice(b,0,this.value):a[b]=this.value,{newDocument:c,index:b}},remove:function(a,b,c){var d=a.splice(b,1);return{newDocument:c,removed:d[0]}},replace:function(a,b,c){var d=a[b];return a[b]=this.value,{newDocument:c,removed:d}},move:m.move,copy:m.copy,test:m.test,_get:m._get};b.getValueByPointer=d,b.applyOperation=e,b.applyPatch=f,b.applyReducer=function(a,c,d){var f=e(a,c);if(!1===f.test)throw new b.JsonPatchError('Test operation failed','TEST_OPERATION_FAILED',d,c,a);return f.newDocument},b.validator=g,b.validate=h},function(a,b,c){function d(a){return m.get(a)}function e(a,b){return a.observers.get(b)}function f(a,b){a.observers.delete(b.callback)}function g(a,b){void 0===b&&(b={});var c=m.get(a.object),d='undefined'==typeof b.inversible?a.inversible:b.inversible;h(c.value,a.object,a.patches,'',{inversible:d}),a.patches.length&&j.applyPatch(c.value,a.patches);var e=a.patches;return 0<e.length&&(a.patches=[],a.callback&&a.callback(e)),e}function h(a,b,c,d,e){if(void 0===e&&(e={inversible:!1}),b!==a){'function'==typeof b.toJSON&&(b=b.toJSON());for(var f=i._objectKeys(b),g=i._objectKeys(a),j=!1,k=!1,l=e.inversible,m=g.length-1;0<=m;m--){var n=g[m],o=a[n];if(i.hasOwnProperty(b,n)&&(void 0!==b[n]||void 0===o||!1!==Array.isArray(b))){var p=b[n];'object'==typeof o&&null!=o&&'object'==typeof p&&null!=p?h(o,p,c,d+'/'+i.escapePathComponent(n),e):o!==p&&(j=!0,l&&c.push({op:'test',path:d+'/'+i.escapePathComponent(n),value:i._deepClone(o)}),c.push({op:'replace',path:d+'/'+i.escapePathComponent(n),value:i._deepClone(p)}))}else Array.isArray(a)===Array.isArray(b)?(l&&c.push({op:'test',path:d+'/'+i.escapePathComponent(n),value:i._deepClone(o)}),c.push({op:'remove',path:d+'/'+i.escapePathComponent(n)}),k=!0):(l&&c.push({op:'test',path:d,value:a}),c.push({op:'replace',path:d,value:b}),j=!0)}if(k||f.length!=g.length)for(var n,m=0;m<f.length;m++)n=f[m],i.hasOwnProperty(a,n)||void 0===b[n]||c.push({op:'add',path:d+'/'+i.escapePathComponent(n),value:i._deepClone(b[n])})}}var i=c(0),j=c(1),k=c(1);b.applyOperation=k.applyOperation,b.applyPatch=k.applyPatch,b.applyReducer=k.applyReducer,b.getValueByPointer=k.getValueByPointer,b.validate=k.validate,b.validator=k.validator;var l=c(0);b.JsonPatchError=l.PatchError,b.deepClone=l._deepClone,b.escapePathComponent=l.escapePathComponent,b.unescapePathComponent=l.unescapePathComponent;var m=new WeakMap,n=function(){return function(a){this.observers=new Map,this.obj=a}}(),o=function(){return function(a,b){this.callback=a,this.observer=b}}();b.unobserve=function(a,b){b.unobserve()},b.observe=function(a,b,c){void 0===c&&(c=!1);var h,j=d(a);if(!j)j=new n(a),m.set(a,j);else{var k=e(j,b);h=k&&k.observer}if(h)return h;if(h={inversible:c},j.value=i._deepClone(a),b){h.callback=b,h.next=null;var l=function(){g(h)},p=function(){clearTimeout(h.next),h.next=setTimeout(l)};'undefined'!=typeof window&&(window.addEventListener?(window.addEventListener('mouseup',p),window.addEventListener('keyup',p),window.addEventListener('mousedown',p),window.addEventListener('keydown',p),window.addEventListener('change',p)):(document.documentElement.attachEvent('onmouseup',p),document.documentElement.attachEvent('onkeyup',p),document.documentElement.attachEvent('onmousedown',p),document.documentElement.attachEvent('onkeydown',p),document.documentElement.attachEvent('onchange',p)))}return h.patches=[],h.object=a,h.unobserve=function(){g(h),clearTimeout(h.next),f(j,h),'undefined'!=typeof window&&(window.removeEventListener?(window.removeEventListener('mouseup',p),window.removeEventListener('keyup',p),window.removeEventListener('mousedown',p),window.removeEventListener('keydown',p)):(document.documentElement.detachEvent('onmouseup',p),document.documentElement.detachEvent('onkeyup',p),document.documentElement.detachEvent('onmousedown',p),document.documentElement.detachEvent('onkeydown',p)))},j.observers.set(b,new o(b,h)),h},b.generate=g,b.compare=function(a,b,c){var d=[];return h(a,b,d,'',c),d}},function(a,b,c){function d(a){return null===a||a===void 0}function e(a){return a&&'object'==typeof a&&'number'==typeof a.length&&('function'!=typeof a.copy||'function'!=typeof a.slice?!1:0<a.length&&'number'!=typeof a[0]?!1:!0)}function f(c,f,l){var m,i;if(d(c)||d(f))return!1;if(c.prototype!==f.prototype)return!1;if(j(c))return!!j(f)&&(c=g.call(c),f=g.call(f),k(c,f,l));if(e(c)){if(!e(f))return!1;if(c.length!==f.length)return!1;for(m=0;m<c.length;m++)if(c[m]!==f[m])return!1;return!0}try{var n=h(c),o=h(f)}catch(a){return!1}if(n.length!=o.length)return!1;for(n.sort(),o.sort(),m=n.length-1;0<=m;m--)if(n[m]!=o[m])return!1;for(m=n.length-1;0<=m;m--)if(i=n[m],!k(c[i],f[i],l))return!1;return typeof c==typeof f}var g=Array.prototype.slice,h=c(5),j=c(4),k=a.exports=function(a,b,c){return c||(c={}),a===b||(a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a&&b&&('object'==typeof a||'object'==typeof b)?f(a,b,c):c.strict?a===b:a==b)}},function(a,b){function c(a){return'[object Arguments]'==Object.prototype.toString.call(a)}function d(a){return a&&'object'==typeof a&&'number'==typeof a.length&&Object.prototype.hasOwnProperty.call(a,'callee')&&!Object.prototype.propertyIsEnumerable.call(a,'callee')||!1}var e='[object Arguments]'==function(){return Object.prototype.toString.call(arguments)}();b=a.exports=e?c:d,b.supported=c;b.unsupported=d},function(a,b){function c(a){var b=[];for(var c in a)b.push(c);return b}b=a.exports='function'==typeof Object.keys?Object.keys:c,b.shim=c}]);